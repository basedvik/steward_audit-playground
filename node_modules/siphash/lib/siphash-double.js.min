var SipHashDouble=function(){"use strict";function r(r,n){var t=r.l+n.l,h={h:r.h+n.h+(t/2>>>31)>>>0,l:t>>>0};r.h=h.h,r.l=h.l}function n(r,n){r.h^=n.h,r.h>>>=0,r.l^=n.l,r.l>>>=0}function t(r,n){var t={h:r.h<<n|r.l>>>32-n,l:r.l<<n|r.h>>>32-n};r.h=t.h,r.l=t.l}function h(r){var n=r.l;r.l=r.h,r.h=n}function e(e,l,o,u){r(e,l),r(o,u),t(l,13),t(u,16),n(l,e),n(u,o),h(e),r(o,l),r(e,u),t(l,17),t(u,21),n(l,o),n(u,e),h(o)}function l(r,n){return r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]}function o(r,t){"string"==typeof t&&(t=u(t));var h={h:r[1]>>>0,l:r[0]>>>0},o={h:r[3]>>>0,l:r[2]>>>0},i={h:h.h,l:h.l},a=h,f={h:o.h,l:o.l},s=o,c=t.length,v=c-7,g=new Uint8Array(new ArrayBuffer(8));n(i,{h:1936682341,l:1886610805}),n(f,{h:1685025377,l:1852075907}),n(a,{h:1819895653,l:1852142177}),n(s,{h:1952801890,l:2037671283});for(var y=0;y<v;){var b={h:l(t,y+4),l:l(t,y)};n(s,b),e(i,f,a,s),e(i,f,a,s),n(i,b),y+=8}g[7]=c;for(var d=0;y<c;)g[d++]=t[y++];for(;d<7;)g[d++]=0;var p={h:g[7]<<24|g[6]<<16|g[5]<<8|g[4],l:g[3]<<24|g[2]<<16|g[1]<<8|g[0]};n(s,p),e(i,f,a,s),e(i,f,a,s),n(i,p),n(a,{h:0,l:238}),e(i,f,a,s),e(i,f,a,s),e(i,f,a,s),e(i,f,a,s);var w={h:i.h,l:i.l};n(w,f),n(w,a),n(w,s),n(f,{h:0,l:221}),e(i,f,a,s),e(i,f,a,s),e(i,f,a,s),e(i,f,a,s);var A=i;return n(A,f),n(A,a),n(A,s),new Uint32Array([A.h,A.l,w.h,w.l])}function u(r){if("function"==typeof TextEncoder)return(new TextEncoder).encode(r);r=unescape(encodeURIComponent(r));for(var n=new Uint8Array(r.length),t=0,h=r.length;t<h;t++)n[t]=r.charCodeAt(t);return n}return{hash:o,hash_hex:function(r,n){var t=o(r,n);return("0000000"+t[0].toString(16)).substr(-8)+("0000000"+t[1].toString(16)).substr(-8)+("0000000"+t[2].toString(16)).substr(-8)+("0000000"+t[3].toString(16)).substr(-8)},hash_uint:function(r,n){var t=o(r,n);return 4294967296*(2097151&t[0])+t[1]},string16_to_key:function(r){var n=u(r);if(16!==n.length)throw Error("Key length must be 16 bytes");var t=new Uint32Array(4);return t[0]=l(n,0),t[1]=l(n,4),t[2]=l(n,8),t[3]=l(n,12),t},string_to_u8:u}}(),module.exports=SipHashDouble;
